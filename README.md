# メジロ式速記(Mejiro)v2

メジロ式速記は、Plover用の日本語の速記システムです

直観的な**子音＋母音＋追加音**の組み合わせで
片手で1音節、両手で2音節を一気に入力でき、

両手の10本指をフル活用した効率的な日本語入力を体験できます

---
## レイアウト(Layout)
このシステムは、メジロ式専用キーボード（Mejiro31）や、速記用キーボード（Uni v4）、スペースバーが2つあるキーボードで使うことができます

![image](https://github.com/user-attachments/assets/8af6ceb9-730f-4d41-a531-8ac2b05dc7b9)

もちろん一般的なキーボードでも使うことはできますが、より快適に使うためには親指のキーが分かれているものを使うことをおすすめします

```
# S T Y I U    U I Y T S *
# S K N A U    U A N K S *
         n      n             
        t k    k t
```
GeminiPRでは以下のようなレイアウトを想定しています
```
#1 S1 T P H *1    *3 F P L T D
#2 S2 K W R *2    *4 R B G S Z
           #3     #4             
           A O    E U
```
キーボードを使う場合は次のような配列を想定しています
```
esc q w e r t y u i o p [
tab a s d f g h j k l ; '
     z x c v b n m , . 
        space enter   
```
※ これはあなたのキーボード配置と異なる可能性があります
異なる場合はPloveメニューの歯車マーク``Configure``から``Machine``タブを開き、キー配置を変更してください

---
## 使い方(How to use)

### 母音(Vowels)

| 出力  | 入力  |
| ---- | ---- |
| あ段  | `A`  |
| い段  | `I`  |
| う段  | `U`  |
| え段  | `IA` |
| お段  | `AU` |
| や段  | `YA` |
| ゆ段  | `YU` |
| よ段  | `YAU`|

---
### 子音(Consonants)

| 出力   | 入力   |
| ----- | ------ |
| あ行   | (なし) |
| か行   | `K`    |
| さ行   | `S`    |
| た行   | `T`    |
| な行   | `N`    |
| は行   | `TK`   |
| ま行   | `SKN`  |
| ら行   | `ST`   |
| わ行   | `SK`  |
| が行   | `KN`   |
| ざ行   | `NS`   |
| だ行   | `TN`   |
| ば行   | `TKN`  |
| パ行   | `STK`  |
| ファ行 | `STKN` |
| ぁ行   | `STN` |

※ 法則として、Nと同時押しで濁音化しています

これらの「子音」と「母音」を組み合わせることで五十音を作ることができます

か行`K`+あ段`A` = `KA` →「か」

が行`KN`+い段`I` = `KNA` →「ぎ」

---
### 2音目(Extra)

| 出力 |  入力  |
| --- | ----- |
| ん   | `n`  |
| つ   | `t`  |
| く   | `k`  |
| ち   | `nt` |
| き   | `nk` |
| っ   | `tk` |
| ー   | `ntk`|

このキーを組み合わせると音の最後に二音目の音を追加できます.

`TAk` `SAn` →「沢山」

`TAntk` `SNAn` →「ターザン」

---
### 二重母音(Double Vowels)

「あ・い・う・え・お・や・ゆ・よ」以外の組み合わせのときは、日本語で高頻度で出現する二重母音を打てるようになっています

| 入力 | 出力 |
| --- | ---- |
| `Y` | あい |
| `YIA` | えい |
| `IU` | うい |
| `YI` | よう |
| `YIU` | ゆう |
| `IAU` | おう |
| `YIAU` | うう |

`KYI-TYIAU` → 「共通」

`TKNU-STYIAn` → 「ブレイン」

---
### 外来音(English Sounds)

特定の母音と追加音の組み合わせは外来音に変換されます

| 母音 | `n` | `tk` | `ntk` |
| --- | ---- | ---- | ----- |
|`IAU`| ~own | ~ow | ~able |
|`YI`| ~ing | ~ism | ~ical |
|`YIU`| ~ial | ~ist | ~ity |
|`YIAU`| ~al | ~ul | ~ogy |
|`YIA`| --- | ~ense | --- |

`TY-STKYIn` → 「タイピング」

`SY-YIAtk` → 「サイエンス」

### 例外かな(Exceptional Kana)

「わ行や段」のような存在しない行段の組み合わせは特定のマイナーかなに変換されます

| 母\子 | `D` |  `W` |  `F` |  `小` |
| ---- | --- | ---- | ---- | ---- |
|`YI`  |`でぃ`|`ゐ`  |`じぇ`| ---- |
|`YIU` |`てぃ`|`ゑ`  |`しぇ`| ---- |
|`YA`  |`どぅ`|`いぇ`|`ゔぁ`| ---- |
|`YU`  |`でゅ`|`ゔゅ`|`ちぇ`| ---- |
|`YAU` |`とぅ`|`を`  |`ゔぉ`| ---- |
|`IU`  | ---- |`ゆい`|`ゔぃ`|`つぃ`|
|`IAU` | ---- |`ゎ`  |`ゔぇ`|`つぉ`|
|`YIAU`| ---- |`うぁ`|`ぢぇ`|`てゅ`|
|`Y`   | ---- | ---- | ---- |`つゃ`|
|`YIA` | ---- | ---- | ---- |`てゃ`|

---
### 助詞(Particle)

親指だけで入力した時は追加音ではなく助詞が出力されます

|入力| 左 | 右 |
|---|----|---|
| `n` | 、 | 、 |
| `t` | に | は |
| `k` | の | が |
|`nt` | と | は、|
|`nk` | を | が、|
|`tk` | で | も |
|`ntk`| か | も、|

基本的に「左+右」の順に出力されます

#### (1) 基本「左+右」

`nt-t` → 「とは」

`tk-tk` → 「でも」

#### (2) 対角のnと同時で「〜、」

`nt-nt` → 「とは、」

`n-k` → 「が、」

#### (3) 「〜が」→「の〜」

`tk-k` → 「ので」

`t-k` → 「のに」

#### (4) 例外

|入力|出力|
|---|---|
|`n-`|Space|
|`-n`|Enter|
|`n-n`|Tab|
|`-nt`|。|
|`-nk`|、|
|`n-nt`|？|
|`n-nk`|！|
|`-ntk`|カタカナ|
|`n-ntk`|ﾊﾝｶｸｶﾀｶﾅ|

---
### 繰り返し(Repeater)

`#`を押すと、全体の出力がもう一度繰り返されます

`TKAn-Tntk` →「ハンター」

`TKAn#Tntk` →「ハンターハンター」

`#`の単体でも使えます

`#` → 直前の出力

---
### 略語(Abbreviations)

`*`は一部の特別な入力や略語のために使います

| 種類 | 役割 | 登録 |
| ------- | --- | ---- |
| ユーザー | 固有名詞や挨拶など | 必要 |
| 動詞 | 動詞(活用も指定) | 任意 |
| 助動詞 | 助動詞(活用も指定) | 不要 |
| 一般 | 抽象名詞や形式名詞 | 不要 |

---
#### ユーザー略語(Users Abbreviations)
ユーザー略語は、固有名詞や挨拶など、特定の語を簡単に入力するために使います

`KI-TKNAU*` → 「キーボード」

`KAU-SKNYU*` → 「コミュニケーション」

定義の仕方は二種類あり、`*`を使う定義は`abbreviations.py`の`USERS_MAP`に登録します

```
<abbreviations.py>
(一例)
USERS_MAP = { # ユーザー略語の定義
  "SKNIA-SAUtk": "めじろしきそっき",
  "In-STKNAU": "いんふぉめーしょん",
  ...
}
```

定義では`*`を省略しますが、実際に入力する際には`*`が必要です

`In-STKNAU*` → 「インフォメーション」

もう一つは、Ploverのユーザー辞書機能を使う方法で、`mejiro_users.json`に直接登録します

```
<mejiro_users.json>
(一例)
{
  "AU-S": "おはようございます。",
  "YAU-S": "よろしくおねがいいたします。",
  ...
}
```

定義どおりに出力されるので、タイピングモードでもローマ字やJISかなには変換されません

---
#### 動詞略語(Verb Abbreviations)
動詞略語は、動詞を入力するために使います

`TKA-TA*` → 「働く」

`KI-TU*` → 「気が付く」

`*` → 「する」

`K-*` → 「くる」

動詞の登録は`abbreviations.py`の`VERB_〇〇_MAP`で行います

```
<abbreviations.py>
(一例)
VERB_GODAN_MAP = { # ストローク: [語幹, 行]
    "SI-SU": ["しめ", 's'],# 示す
    "TA-TNA": ["いただ", 'k'],# 頂く
    "KI-TU": ["きがつ", 'k'],# 気が付く
    ...
}
VERB_KAMI_MAP = { # ストローク: [語幹, 行]
    "TN-KI": ["で", 'k'],# 出来る
    "SI-SNI": ["しん", 'z'],# 信じる
    "KA-SNI": ["かん", 'z'],# 感じる
    ...
}
VERB_SIMO_MAP = { # ストローク: [語幹, 行]
    "TU-TN": ["つづ", 'k'],# つづける
    "TN-": ["", 'd'],# 出る
    ...
}
```

登録していない動詞を入力したい場合は、一定の規則により機械的に動詞を生成することができます

その際は、「左のかな+右の活用部分」という形で動詞が作られ、活用の種類は右の母音によって決定されます

|母音|活用の種類|
|---|---|
| `I` | 上一段活用|
| `IA` | 下一段活用|
| その他 | 五段活用|

`KAn-KNA` `-SKNI*` → 「鑑みる」

`KAn-` `KNA-SKNI*` → 「鑑みる」

`TA-SKNIA*` → 「ためる」

`TA-SKNA*` → 「たまる」

ただし、上一段、下一段として存在しない動詞の場合はラ行の五段活用になります

`TKA-SI*` → 「走る」

`TA-STKI*` → 「タピる」

また、右側に何も入力せずに`*`だけを押した場合は、「～する」という動詞を作ります

`TKYI-*` → 「評する」

`TNIAU-*` → 「どうする」

すべての動詞は、追加音のキーで活用形を指定できます

|入力|左|右|
|---|---|---|
| `n` |ている|ない|
| `t` |させる|た|
| `k` |られる|ます|
| `nt`|てもらう|なかった|
| `nk`|てしまう|ません|
| `tk`|れる（ら抜き）|ました|
|`ntk`|---|て|

`KA-KNAn*` → 「考えない」

`KItk-TNUt*` → 「気付けた」

左が`ntk`のときは特別な活用になります

|入力|出力|
|---|---|
|`ntk-`|連用形|
|`ntk-n`|ず|
|`ntk-t`|ば|
|`ntk-k`|よう（意向形）|
|`ntk-nt`|なければ|
|`ntk-nk`|なく|
|`ntk-tk`|てください|
|`ntk-ntk`|ろ（命令形）|

`SIntk-SNInt*` → 「信じなければ」

`KNAntk-TKNAtk*` → 「頑張ってください」

---
#### 助動詞略語(Auxiliary Verb Abbreviations)
助動詞略語は、一部の助動詞を入力するために使います
※ 現状は「です」だけに対応しています

|入力|出力|
|---|---|
|`TN`|です|

`-TN*` → 「です」

使う際は、「左のかな+助動詞」という形で入力します

`SIAU-TN*` → 「そうです」

助動詞略語は、右手の追加音のキーで活用形を指定できます

|入力|出力|
|---|---|
|`n`|でして|
|`t`|でした|
|`k`|でしょう|
|`nt`|です|
|`nk`|ですが|
|`tk`|ですか？|
|`ntk`|ですね|

`SIAU-TNn*` → 「そうでして」

`TNIAU-TNk*` → 「どうでしょう」

`NAn-TNtk*` → 「なんですか？」

---
#### 一般略語(Abstract Abbreviations)
一般略語は、抽象名詞や形式名詞など、特定の語を簡単に入力するために使います

`TAU-KAU*` → 「ところ」

定義は`abbreviations.py`の`ABSTRACT_MAP`に登録します

```
<abbreviations.py>
(一例)
ABSTRACT_MAP = { # 一般略語の定義
  "YAU-STIA": "あれ",
  "KAU-STIA": "これ",
  "SAU-STIA": "それ",
  "TNAU-STIA": "どれ",
  "TNA-STIA": "だれ",
  "TAU-KAU": "ところ",
  ...
}
```

`*`を省略して定義しますが、実際に入力する際には`*`が必要です

一般略語は、助詞を語の最後に追加できます

`TAUt-KAUnt*` → 「ところには、」

`KAUtk-STIAn*` → 「これで、」

ただし、一部の助詞は「です」に変換されます

|入力|出力|
|---|---|
|`-ntk`|です|
|`n-ntk`|です。|

`KAUn-TAUntk*` → 「ことです。」

また、「左の略語+右の略語」のように左右それぞれを組み合わせることもできます

定義は`abbreviations.py`の`ABSTRACT_MAP_LEFT`, `ABSTRACT_MAP_RIGHT`に登録します

```
<abbreviations.py>
(一例)
ABSTRACT_MAP_LEFT = { # 一般略語の左側ストローク定義
  "STN": "",
  "YIAU": "あの",
  "KIAU": "この",
  "SIAU": "その",
  ...
}
ABSTRACT_MAP_RIGHT = { # 一般略語の右側ストローク定義
  "STN": "",
  "KAU": "こと",
  "STAU": "ころ",
  "KI": "とき",
  "TAU": "ところ",
  ...
}
```
`YIAU-KAU*` → 「あのこと」

`SIU-TAU*` → 「そういうところ」

---
### タイピングモード(Typing Mode)
タイピングモードでは、ローマ字入力あるいはJISかな入力で出力できます
出力形式の設定は、mejiro_base.pyの``typing_mode``変数で行います
```
<mejiro_base.py>
typing_mode = 0  # 0: ローマ字入力, 1: JISかな入力
```

タイピングモードは、`#n`でon、`n#`でoffに切り替えられます

---
## もっと詳しく知りたい方は(More To Know the Theory)

最新情報は[**X**](https://x.com/jeebis_iox)や[**note**](https://note.com/jeebis_keyboard)をご確認ください

---
## メジロ式をインストールする(Installing Mejiro)

このプラグインはPloverのプラグインマネージャーからインストールできます

1. Ploverメニューの``Tools``から``Plugins Manager``をクリックします
2. 一番右下の``GIT``ボタンをクリックし、``Install from Git repo``を開きます
3. ``https://github.com/JEEBIS27/Plover_Mejiro``を入力して``OK``ボタンをクリックします
4. ``Successfully installed Mejiro-2.X.X``のように表示されたらインストール完了です

---
## メジロ式を起動する(Activating Mejiro)

このプラグインをインストールしたあと、一度Ploverを再起動し、Ploverメニューの歯車マーク``Configure``から``System``タブを開き、``Mejiro``システムを選択して起動します
